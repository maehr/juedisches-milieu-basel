{"version":3,"names":["appProgressMeterCss","AppProgressMeter","constructor","hostRef","this","value","maxVal","r","strokeOuter","strokeInner","closing","labelGap","rotation","cf","Math","PI","semi_cf","semi_cf_1by3","semi_cf_2by3","width","height","componentDidLoad","outlineCurves","low","avg","high","mask","outlineEnds","forEach","circle","setAttribute","toString","e","meter","render","meter_value","h","Fragment","key","ref","style","transform","class","cx","cy","x","y"],"sources":["src/components/app-progress-meter/app-progress-meter.css?tag=app-progress-meter","src/components/app-progress-meter/app-progress-meter.tsx"],"sourcesContent":[":host {\n  display: block;\n  --progrss-bar-color: var(--ion-color-step-200, #fff);\n}\n\n.circle {\n  fill: none;\n}\n\n.circle.segment-1,\n.circle.segment-2,\n.circle.segment-3 {\n  stroke: #7b3f27;\n}\n\n.outline {\n  stroke: var(--ion-color-step-500);\n}\n\n.label-1 {\n  fill: var(--ion-color-step-500);\n  font-size: 1.5rem;\n}\n\n.label-2,\n.label-3 {\n  fill: var(--ion-color-step-500);\n  font-size: 0.8rem;\n}\n","import { Component, Fragment, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'app-progress-meter',\n  styleUrl: 'app-progress-meter.css',\n  shadow: false,\n})\nexport class AppProgressMeter {\n  @Prop() value = 9;\n  @Prop() maxVal = 12;\n\n  wrapper: HTMLDivElement;\n  meter: SVGElement;\n  outlineCurves: SVGElement;\n  low: SVGElement;\n  avg: SVGElement;\n  high: SVGElement;\n  mask: SVGElement;\n  outlineEnds: SVGElement;\n  slider: HTMLInputElement;\n  lbl: HTMLLabelElement;\n\n  // radius of circle (scales to parent)\n  r = 60;\n  // stroke width for outlines\n  strokeOuter = 10;\n  // stroke width for indicator\n  strokeInner = 6;\n  // closing, 1 = semi-circle, 2= full circle\n  closing = 1.6;\n  // gap between label lines\n  labelGap = 6;\n  rotation = 0.5 - (this.closing - 1) / 4;\n  cf = 2 * Math.PI * this.r;\n  semi_cf = (this.closing * this.cf) / 2;\n  semi_cf_1by3 = this.semi_cf / 3;\n  semi_cf_2by3 = this.semi_cf_1by3 * 2;\n  width = 2 * this.r + this.strokeOuter;\n  height = this.width; // / this.closing;\n\n  componentDidLoad() {\n    // set radius\n    [this.outlineCurves, this.low, this.avg, this.high, this.mask, this.outlineEnds].forEach(circle => {\n      circle.setAttribute('r', this.r.toString());\n    });\n    // set inner stroke with\n    [this.low, this.avg, this.high].forEach(e => e.setAttribute('stroke-width', this.strokeInner.toString()));\n    // set outer stroke with\n    [this.outlineCurves, this.mask, this.outlineEnds].forEach(e => e.setAttribute('stroke-width', this.strokeOuter.toString()));\n\n    // set viewbox\n\n    this.meter.setAttribute('viewBox', `0 0 ${this.width} ${this.height}`);\n\n    // set stroke dasharray for all circles except for mask\n    this.outlineCurves.setAttribute('stroke-dasharray', this.semi_cf + ',' + this.cf);\n    this.low.setAttribute('stroke-dasharray', this.semi_cf + ',' + this.cf);\n    this.avg.setAttribute('stroke-dasharray', this.semi_cf_2by3 + ',' + this.cf);\n    this.high.setAttribute('stroke-dasharray', this.semi_cf_1by3 + ',' + this.cf);\n    this.outlineEnds.setAttribute('stroke-dasharray', 2 + ',' + (this.semi_cf - 2));\n  }\n\n  render() {\n    var meter_value = this.semi_cf - (this.value / this.maxVal) * this.semi_cf;\n\n    return (\n      <Fragment>\n        <svg ref={e => (this.meter = e)}>\n          <g style={{ 'transform': 'scaleX(-1)', 'transform-origin': 'center' }}>\n            <g\n              style={{\n                'transform': `rotate(${this.rotation}turn)`,\n                'transform-origin': 'center',\n              }}\n            >\n              <circle ref={e => (this.outlineCurves = e)} class=\"circle outline\" cx=\"50%\" cy=\"50%\"></circle>\n              <circle ref={e => (this.low = e)} class=\"circle segment-1\" cx=\"50%\" cy=\"50%\"></circle>\n              <circle ref={e => (this.avg = e)} class=\"circle segment-2\" cx=\"50%\" cy=\"50%\"></circle>\n              <circle ref={e => (this.high = e)} class=\"circle segment-3\" cx=\"50%\" cy=\"50%\"></circle>\n              <circle ref={e => (this.mask = e)} class=\"circle outline\" cx=\"50%\" cy=\"50%\" stroke-dasharray={meter_value + ',' + this.cf}></circle>\n              <circle ref={e => (this.outlineEnds = e)} class=\"circle outline\" cx=\"50%\" cy=\"50%\"></circle>\n            </g>\n          </g>\n          <text class=\"label-3\" x={this.width / 2} y={this.height / 2 + this.labelGap * 3} dominant-baseline=\"middle\" text-anchor=\"middle\">\n            gel√∂st\n          </text>{' '}\n          <text class=\"label-1\" x={this.width / 2} y={this.height / 2 - this.labelGap} dominant-baseline=\"middle\" text-anchor=\"middle\">\n            {this.value} / {this.maxVal}\n          </text>{' '}\n        </svg>\n      </Fragment>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}