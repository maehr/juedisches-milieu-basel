{"version":3,"file":"app-progress-meter.entry.esm.js","sources":["src/components/app-progress-meter/app-progress-meter.css?tag=app-progress-meter","src/components/app-progress-meter/app-progress-meter.tsx"],"sourcesContent":[":host {\n  display: block;\n  --progrss-bar-color: var(--ion-color-step-200, #fff);\n}\n\n.circle {\n  fill: none;\n}\n\n.circle.segment-1,\n.circle.segment-2,\n.circle.segment-3 {\n  stroke: #7b3f27;\n}\n\n.outline {\n  stroke: var(--ion-color-step-500);\n}\n\n.label-1 {\n  fill: var(--ion-color-step-500);\n  font-size: 1.5rem;\n}\n\n.label-2,\n.label-3 {\n  fill: var(--ion-color-step-500);\n  font-size: 0.8rem;\n}\n","import { Component, Fragment, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'app-progress-meter',\n  styleUrl: 'app-progress-meter.css',\n  shadow: false,\n})\nexport class AppProgressMeter {\n  @Prop() value = 9;\n  @Prop() maxVal = 12;\n\n  wrapper: HTMLDivElement;\n  meter: SVGElement;\n  outlineCurves: SVGElement;\n  low: SVGElement;\n  avg: SVGElement;\n  high: SVGElement;\n  mask: SVGElement;\n  outlineEnds: SVGElement;\n  slider: HTMLInputElement;\n  lbl: HTMLLabelElement;\n\n  // radius of circle (scales to parent)\n  r = 60;\n  // stroke width for outlines\n  strokeOuter = 10;\n  // stroke width for indicator\n  strokeInner = 6;\n  // closing, 1 = semi-circle, 2= full circle\n  closing = 1.6;\n  // gap between label lines\n  labelGap = 6;\n  rotation = 0.5 - (this.closing - 1) / 4;\n  cf = 2 * Math.PI * this.r;\n  semi_cf = (this.closing * this.cf) / 2;\n  semi_cf_1by3 = this.semi_cf / 3;\n  semi_cf_2by3 = this.semi_cf_1by3 * 2;\n  width = 2 * this.r + this.strokeOuter;\n  height = this.width; // / this.closing;\n\n  componentDidLoad() {\n    // set radius\n    [this.outlineCurves, this.low, this.avg, this.high, this.mask, this.outlineEnds].forEach(circle => {\n      circle.setAttribute('r', this.r.toString());\n    });\n    // set inner stroke with\n    [this.low, this.avg, this.high].forEach(e => e.setAttribute('stroke-width', this.strokeInner.toString()));\n    // set outer stroke with\n    [this.outlineCurves, this.mask, this.outlineEnds].forEach(e => e.setAttribute('stroke-width', this.strokeOuter.toString()));\n\n    // set viewbox\n\n    this.meter.setAttribute('viewBox', `0 0 ${this.width} ${this.height}`);\n\n    // set stroke dasharray for all circles except for mask\n    this.outlineCurves.setAttribute('stroke-dasharray', this.semi_cf + ',' + this.cf);\n    this.low.setAttribute('stroke-dasharray', this.semi_cf + ',' + this.cf);\n    this.avg.setAttribute('stroke-dasharray', this.semi_cf_2by3 + ',' + this.cf);\n    this.high.setAttribute('stroke-dasharray', this.semi_cf_1by3 + ',' + this.cf);\n    this.outlineEnds.setAttribute('stroke-dasharray', 2 + ',' + (this.semi_cf - 2));\n  }\n\n  render() {\n    var meter_value = this.semi_cf - (this.value / this.maxVal) * this.semi_cf;\n\n    return (\n      <Fragment>\n        <svg ref={e => (this.meter = e)}>\n          <g style={{ 'transform': 'scaleX(-1)', 'transform-origin': 'center' }}>\n            <g\n              style={{\n                'transform': `rotate(${this.rotation}turn)`,\n                'transform-origin': 'center',\n              }}\n            >\n              <circle ref={e => (this.outlineCurves = e)} class=\"circle outline\" cx=\"50%\" cy=\"50%\"></circle>\n              <circle ref={e => (this.low = e)} class=\"circle segment-1\" cx=\"50%\" cy=\"50%\"></circle>\n              <circle ref={e => (this.avg = e)} class=\"circle segment-2\" cx=\"50%\" cy=\"50%\"></circle>\n              <circle ref={e => (this.high = e)} class=\"circle segment-3\" cx=\"50%\" cy=\"50%\"></circle>\n              <circle ref={e => (this.mask = e)} class=\"circle outline\" cx=\"50%\" cy=\"50%\" stroke-dasharray={meter_value + ',' + this.cf}></circle>\n              <circle ref={e => (this.outlineEnds = e)} class=\"circle outline\" cx=\"50%\" cy=\"50%\"></circle>\n            </g>\n          </g>\n          <text class=\"label-3\" x={this.width / 2} y={this.height / 2 + this.labelGap * 3} dominant-baseline=\"middle\" text-anchor=\"middle\">\n            gel√∂st\n          </text>{' '}\n          <text class=\"label-1\" x={this.width / 2} y={this.height / 2 - this.labelGap} dominant-baseline=\"middle\" text-anchor=\"middle\">\n            {this.value} / {this.maxVal}\n          </text>{' '}\n        </svg>\n      </Fragment>\n    );\n  }\n}\n"],"names":[],"mappings":"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"}