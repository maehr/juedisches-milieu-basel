{"version":3,"file":"geov-toc.entry.esm.js","sources":["node_modules/@geovistory/design-system-web/dist/collection/components/geov-toc/geov-toc.css?tag=geov-toc&encapsulation=shadow","node_modules/@geovistory/design-system-web/dist/collection/components/geov-toc/geov-toc.js"],"sourcesContent":[":host {\n  display: block;\n}\n\n.toc {\n  display: none;\n}\n\n/* lg and up */\n@media screen and (min-width: 1200px) {\n  .toc {\n    display: inline;\n    position: fixed;\n    max-width: 300px;\n    right: 2rem;\n  }\n}\n","import { h, Host } from \"@stencil/core\";\nexport class GeovToc {\n  constructor() {\n    this.indentPx = 16;\n    this.toc = undefined;\n  }\n  componentDidLoad() {\n    console.log('r');\n    this.toc = this.createToc();\n  }\n  render() {\n    return (h(Host, null, this.toc, h(\"slot\", null)));\n  }\n  createToc() {\n    const tocItems = [];\n    if (this.el) {\n      const getHref = (e) => {\n        const id = e === null || e === void 0 ? void 0 : e.getAttribute('id');\n        return id ? `#${id}` : undefined;\n      };\n      const getText = (e) => {\n        return e.textContent;\n      };\n      const scanElement = (element) => {\n        var _a;\n        (_a = element.childNodes) === null || _a === void 0 ? void 0 : _a.forEach(e => {\n          let headingLevel;\n          switch (e.nodeName) {\n            case 'H1':\n              headingLevel = 1;\n              break;\n            case 'H2':\n              headingLevel = 2;\n              break;\n            case 'H3':\n              headingLevel = 3;\n              break;\n            case 'H4':\n              headingLevel = 4;\n              break;\n            case 'H5':\n              headingLevel = 5;\n              break;\n            case 'H6':\n              headingLevel = 6;\n              break;\n          }\n          if (headingLevel !== undefined) {\n            const level = headingLevel - 1;\n            const text = getText(e);\n            const href = getHref(e);\n            const item = this.createTocItem(level, text, href);\n            return tocItems.push(item);\n          }\n          if (e.nodeName === '#text')\n            return;\n          return scanElement(e);\n        });\n      };\n      scanElement(this.el);\n    }\n    return h(\"ion-list\", { class: \"toc\" }, tocItems);\n  }\n  createTocItem(level, text, href) {\n    const inner = h(\"div\", { style: { paddingLeft: `${level * 16}px` } }, text);\n    return href ? (h(\"ion-item\", { href: href, detail: false }, inner, ' ')) : (h(\"ion-item\", null, inner));\n  }\n  static get is() { return \"geov-toc\"; }\n  static get encapsulation() { return \"shadow\"; }\n  static get originalStyleUrls() {\n    return {\n      \"$\": [\"geov-toc.css\"]\n    };\n  }\n  static get styleUrls() {\n    return {\n      \"$\": [\"geov-toc.css\"]\n    };\n  }\n  static get properties() {\n    return {\n      \"indentPx\": {\n        \"type\": \"number\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"\"\n        },\n        \"attribute\": \"indent-px\",\n        \"reflect\": false,\n        \"defaultValue\": \"16\"\n      }\n    };\n  }\n  static get states() {\n    return {\n      \"toc\": {}\n    };\n  }\n  static get elementRef() { return \"el\"; }\n}\n//# sourceMappingURL=geov-toc.js.map\n"],"names":[],"mappings":"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","x_google_ignoreList":[0,1]}