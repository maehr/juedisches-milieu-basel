{"version":3,"file":"geov-map-places.entry.esm.js","sources":["node_modules/@geovistory/design-system-web/dist/collection/components/geov-map-places/geov-map-places.css?tag=geov-map-places","node_modules/@geovistory/design-system-web/dist/collection/components/geov-map-places/geov-map-places.js"],"sourcesContent":["geov-map-places {\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  --point-color: var(--ion-color-primary, #3880ff);\n  --circle-color-small: #fc8d59;\n  --circle-color-medium: #ffffbf;\n  --circle-color-large: #91bfdb;\n}\n\ngeov-map-places ion-toast {\n  --background: var(--ion-color-danger, red);\n}\n\n.loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--ion-color-light-tint, #fafafa);\n}\n","import { h, Host } from \"@stencil/core\";\nimport { isNode } from \"../../lib/isNode\";\nimport { importMapLibre } from \"../../lib/importMapLibre\";\nimport { sparqlJson } from \"../../lib/sparqlJson\";\n/**\n * This component fetches <a href=\"https://ontome.net/ontology/c363\">geographical places</a> from a project's SPARQL endpoint and their\n * <a href=\"https://ontome.net/ontology/c51\">coordinates</a> using <a href=\"https://ontome.net/ontology/p147\">had presence</a>\n * and <a href=\"https://ontome.net/ontology/p148\">was at</a>) properties, then displays them on a map. The map shows\n * linked markers that guide users to the respective locations within the project. The map is built using on MapLibre.\n */\nexport class GeovMapPlaces {\n  constructor() {\n    this.parseResponse = (res, mapObject) => {\n      var _a;\n      // Parse the response and update the markers on the map\n      const response = (_a = res === null || res === void 0 ? void 0 : res.results) === null || _a === void 0 ? void 0 : _a.bindings;\n      // If there are too many results, show a card\n      if (response.length >= this.limit) {\n        const card = this.el.querySelector('ion-card');\n        card.style.setProperty('display', 'block');\n        card.querySelector('ion-card-title').innerHTML = `Too many results (${response.length})`;\n      }\n      response.forEach(ele => {\n        const featureId = ele['subject'].value;\n        const locName = ele['geoPlaceLabel'].value;\n        if (!this.markers.ids.has(featureId)) {\n          this.markers.features.push({\n            type: 'Feature',\n            geometry: {\n              type: 'Point',\n              coordinates: [parseFloat(ele['long'].value), parseFloat(ele['lat'].value)],\n            },\n            properties: {\n              name: locName,\n              link: featureId,\n            },\n          });\n          this.markers.ids.add(featureId);\n        }\n      });\n      mapObject.getSource('places').setData(this.markers);\n    };\n    this.sparqlEndpoint = undefined;\n    this.limit = 10000;\n    this.center = [8.2318, 46.7985];\n    this.zoom = 6;\n    this.queryBoundingBox = true;\n    this.projectID = undefined;\n    this.loading = undefined;\n    this.markers = {\n      type: 'FeatureCollection',\n      features: [],\n      ids: new Set(),\n    };\n  }\n  async componentDidLoad() {\n    // If we are in a browser\n    if (!isNode()) {\n      this.loading = true;\n      // Load MapLibre script\n      const MapLibre = await importMapLibre();\n      const map = new MapLibre.Map({\n        container: this.el,\n        style: {\n          version: 8,\n          sources: {\n            osm: {\n              type: 'raster',\n              tiles: [\n                'https://a.basemaps.cartocdn.com/rastertiles/light_nolabels/{z}/{x}/{y}{ratio}.png',\n                'https://b.basemaps.cartocdn.com/rastertiles/light_nolabels/{z}/{x}/{y}{ratio}.png',\n                'https://c.basemaps.cartocdn.com/rastertiles/light_nolabels/{z}/{x}/{y}{ratio}.png',\n              ],\n              tileSize: 256,\n              attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n              maxzoom: 19,\n            },\n          },\n          layers: [\n            {\n              id: 'osm',\n              type: 'raster',\n              source: 'osm', // This must match the source key above\n            },\n          ],\n          glyphs: 'https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf',\n        },\n        center: this.center,\n        zoom: this.zoom,\n      });\n      // request to the provided sparql endpoint\n      const qrPlaces = (bounds) => `\n      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n      PREFIX ontome: <https://ontome.net/ontology/>\n      PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\n      SELECT ?subject ?geoPlaceLabel ?long ?lat\n          WHERE {?subject ^ontome:p147 ?presence.\n          ?subject rdfs:label    ?geoPlaceLabel.\n          ?presence ontome:p148 ?place.\n          bind(replace(str(?place), '<http://www.opengis.net/def/crs/EPSG/0/4326>', \"\", \"i\") as ?rep)\n          bind( replace( str(?rep), \"^[^0-9\\.-]*([-]?[0-9\\.]+) .*$\", \"$1\" ) as ?long )\n          bind( replace( str(?rep), \"^.* ([-]?[0-9\\.]+)[^0-9\\.]*$\", \"$1\" ) as ?lat )\n          ${this.queryBoundingBox\n        ? `\n          FILTER (\n            xsd:double(?lat) >= ${bounds._sw.lat.toFixed(3)} &&\n            xsd:double(?lat) <= ${bounds._ne.lat.toFixed(3)} &&\n            xsd:double(?long) >= ${bounds._sw.lng.toFixed(3)} &&\n            xsd:double(?long) <= ${bounds._ne.lng.toFixed(3)}\n        )`\n        : ''}\n        }\n        LIMIT ${this.limit}\n          `;\n      map.on('load', () => {\n        map.addSource('places', {\n          type: 'geojson',\n          data: this.markers,\n          cluster: true,\n          clusterMaxZoom: 12,\n          clusterRadius: 40, // Radius of each cluster when clustering points (defaults to 50)\n        });\n        const computedStyle = getComputedStyle(this.el);\n        const customColors = [\n          computedStyle.getPropertyValue('--point-color') || 'red',\n          computedStyle.getPropertyValue('--circle-color-small') || 'red',\n          computedStyle.getPropertyValue('--circle-color-medium') || 'green',\n          computedStyle.getPropertyValue('--circle-color-large') || 'grey',\n        ];\n        map.addLayer({\n          id: 'clusters',\n          type: 'circle',\n          source: 'places',\n          filter: ['has', 'point_count'],\n          paint: {\n            // Use step expressions (https://maplibre.org/maplibre-style-spec/#expressions-step)\n            // with three steps to implement three types of circles:\n            //   * --circle-color-small, 20px circles when point count is less than 100\n            //   * --circle-color-medium, 30px circles when point count is between 100 and 750\n            //   * --circle-color-large, 40px circles when point count is greater than or equal to 750\n            'circle-color': ['step', ['get', 'point_count'], customColors[1], 100, customColors[2], 750, customColors[3]],\n            'circle-radius': ['step', ['get', 'point_count'], 20, 100, 30, 750, 40],\n          },\n        });\n        map.addLayer({\n          id: 'cluster-count',\n          type: 'symbol',\n          source: 'places',\n          filter: ['has', 'point_count'],\n          layout: {\n            'text-field': '{point_count_abbreviated}',\n            'text-size': 12,\n          },\n        });\n        map.addLayer({\n          id: 'unclustered-point',\n          type: 'circle',\n          source: 'places',\n          filter: ['!', ['has', 'point_count']],\n          paint: {\n            // --point-color\n            'circle-color': customColors[0],\n            'circle-radius': 10,\n          },\n        });\n        //   Add popups to the markers\n        const handleMarkerClick = e => {\n          const feature = e.features[0];\n          const coordinates = feature.geometry.coordinates;\n          const description = feature.properties.name;\n          const link = this.projectID ? `${feature.properties.link}?p=${this.projectID}` : feature.properties.link;\n          new MapLibre.Popup().setLngLat(coordinates).setHTML(`<div><a href = \"${link}\" target=\"_blank\">${description}</a></div>`).addTo(map);\n        };\n        // An on click event listener for the \"unclustered-point\" layer\n        map.on('click', 'unclustered-point', handleMarkerClick);\n        map.on('mouseenter', 'unclustered-point', () => {\n          map.getCanvas().style.cursor = 'pointer';\n        });\n        map.on('mouseleave', 'unclustered-point', () => {\n          map.getCanvas().style.cursor = '';\n        });\n        // Fetch data from the SPARQL endpoint\n        sparqlJson(this.sparqlEndpoint, qrPlaces(map.getBounds())).then(res => this.parseResponse(res, map));\n      });\n      if (this.queryBoundingBox) {\n        // Limit the query whenever vie is moved/zoomed\n        map.on('moveend', () => {\n          var _a;\n          // Remove the card\n          (_a = this.el.querySelectorAll('ion-card')) === null || _a === void 0 ? void 0 : _a.forEach(ele => ele.style.setProperty('display', 'none'));\n          // Fetch data from the SPARQL endpoint\n          sparqlJson(this.sparqlEndpoint, qrPlaces(map.getBounds())).then(res => this.parseResponse(res, map));\n        });\n      }\n      this.loading = false;\n    }\n  }\n  render() {\n    return (h(Host, null, this.loading && (h(\"div\", { style: { width: 100 + '%', height: 100 + '%' }, class: \"loading\" }, h(\"ion-spinner\", { name: \"dots\" }))), h(\"ion-card\", { style: { display: 'none', zIndex: '1000' } }, h(\"ion-card-header\", null, h(\"ion-card-title\", null, \"Too many results\")), h(\"ion-card-content\", null, \"please zoom in to see all available datapoints in a given location\"))));\n  }\n  static get is() { return \"geov-map-places\"; }\n  static get originalStyleUrls() {\n    return {\n      \"$\": [\"geov-map-places.css\"]\n    };\n  }\n  static get styleUrls() {\n    return {\n      \"$\": [\"geov-map-places.css\"]\n    };\n  }\n  static get properties() {\n    return {\n      \"sparqlEndpoint\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"string\",\n          \"resolved\": \"string\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"sparqlEndpoint\\nURL of the sparql endpoint\"\n        },\n        \"attribute\": \"sparql-endpoint\",\n        \"reflect\": false\n      },\n      \"limit\": {\n        \"type\": \"number\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Maximum of Objects fetched (LIMIT)\"\n        },\n        \"attribute\": \"limit\",\n        \"reflect\": false,\n        \"defaultValue\": \"10000\"\n      },\n      \"center\": {\n        \"type\": \"unknown\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"[number, number]\",\n          \"resolved\": \"[number, number]\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The center of the map\"\n        },\n        \"defaultValue\": \"[8.2318, 46.7985]\"\n      },\n      \"zoom\": {\n        \"type\": \"number\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The initial zoomlevel of the map\"\n        },\n        \"attribute\": \"zoom\",\n        \"reflect\": false,\n        \"defaultValue\": \"6\"\n      },\n      \"queryBoundingBox\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The results are restricted to the visible part of the map\"\n        },\n        \"attribute\": \"query-bounding-box\",\n        \"reflect\": false,\n        \"defaultValue\": \"true\"\n      },\n      \"projectID\": {\n        \"type\": \"number\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The ID of the project to be redirected to\"\n        },\n        \"attribute\": \"project-i-d\",\n        \"reflect\": false\n      }\n    };\n  }\n  static get states() {\n    return {\n      \"loading\": {},\n      \"markers\": {}\n    };\n  }\n  static get elementRef() { return \"el\"; }\n}\n//# sourceMappingURL=geov-map-places.js.map\n"],"names":[],"mappings":"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","x_google_ignoreList":[0,1]}